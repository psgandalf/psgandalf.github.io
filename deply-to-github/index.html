<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Deploy the blog to Github Pages</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/github.min.css" data-svelte="svelte-dd1lau"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Overpass" data-svelte="svelte-dd1lau"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Mono" data-svelte="svelte-dd1lau">

		

		<link rel="modulepreload" href="/a/_app/start-5e88bb69.js">
		<link rel="modulepreload" href="/a/_app/chunks/vendor-1023b73e.js">
		<link rel="modulepreload" href="/a/_app/chunks/paths-45dac81d.js">
		<link rel="modulepreload" href="/a/_app/pages/__layout.svelte-053f6bb2.js">
		<link rel="modulepreload" href="/a/_app/pages/[slug].svelte-51976f72.js">
		<link rel="stylesheet" href="/a/_app/assets/start-0826e215.css">
		<link rel="stylesheet" href="/a/_app/assets/pages/__layout.svelte-9f42d68a.css">
		<link rel="stylesheet" href="/a/_app/assets/pages/[slug].svelte-7f9e302b.css">

		<script type="module">
			import { start } from "/a/_app/start-5e88bb69.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"/a","assets":"/a"},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/a/_app/pages/__layout.svelte-053f6bb2.js"),
						import("/a/_app/pages/[slug].svelte-51976f72.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/deply-to-github",
						query: new URLSearchParams(""),
						params: {"slug":"deply-to-github"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">





<a href="https://github.com/svelteland/svelte-kit-blog-demo" class="github-corner svelte-1demiu8" aria-label="View source on GitHub"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#444; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-1demiu8"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
</a>

<div class="g-app-wrapper svelte-11xjeh8"><div><nav class="svelte-lorm98"><a href="/a/" class="svelte-lorm98"><h3 class="home svelte-lorm98">HOME</h3></a>
    <a href="/a/about" class="svelte-lorm98"><h3 class="about svelte-lorm98">about</h3></a></nav>
</div>
  

<h1 class="title svelte-3xaql2">Deploy the blog to Github Pages</h1>
<p class="info"><a href="https://github.com/zhuzilin">zhuzilin</a> APR 4, 2021</p>
<p>After the first post, we already have a blog that runs on the local machine. Now, let's deploy it to Github Pages!</p>
<h2>Change to static adapter</h2>
<p>Adapters in SvelteKit are small plugins for building apps on specific platform. The default adapter of a SvelteKit app is <code>adapter-node</code>, which runs the app with a simple Node server. To host the app to Github Pages, we need to convert the app to static files with <code>adapter-static</code>.</p>
<pre><code class="hljs language-bash">npm i -D @sveltejs/adapter-static
</code></pre>
<p>And change the adapter part of <code>svelte.config.cjs</code> to:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">//adapter: node(),</span>
<span class="hljs-attr">adapter</span>: <span class="hljs-built_in">require</span>(<span class="hljs-string">'@sveltejs/adapter-static'</span>)(),
</code></pre>
<p>By the time on this post, there is some error with the default installed <code>@sveltejs/adapter-static</code>, you may encounter error like:</p>
<pre><code class="hljs language-scala">config.kit.adapter should be an <span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-keyword">with</span> <span class="hljs-title">an</span> "<span class="hljs-title">adapt</span>" <span class="hljs-title">method</span>.</span>
<span class="hljs-type">See</span> https:<span class="hljs-comment">//kit.svelte.dev/docs#adapters</span>
<span class="hljs-type">Error</span>: config.kit.adapter should be an <span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-keyword">with</span> <span class="hljs-title">an</span> "<span class="hljs-title">adapt</span>" <span class="hljs-title">method</span>.</span>
<span class="hljs-type">See</span> https:<span class="hljs-comment">//kit.svelte.dev/docs#adapters</span>
</code></pre>
<p>Before the Svelte team update the package, we could manually overwrite the <code>index.js</code> file in <code>node_modules/@sveltejs/adapter-static</code> with <a href="https://github.com/sveltejs/kit/tree/master/packages/adapter-static">the latest version in the repo</a>.</p>
<h2>Use gh-pages to deploy</h2>
<p>After setting the static adapter, run:</p>
<pre><code class="hljs language-bash">npm run build
</code></pre>
<p>to build the app. The building result is stored in <code>build</code> folder. Then we could use the <code>gh-pages</code> library to deploy the app.</p>
<pre><code class="hljs language-bash">npm i -D gh-pages
</code></pre>
<p>And add a <code>deploy</code> command in <code>package.json</code> as</p>
<pre><code class="hljs language-json"><span class="hljs-string">"deploy"</span>: <span class="hljs-string">"npm run build &#x26;&#x26; npx gh-pages -d build"</span>
</code></pre>
<p>Before running deploy, we need to upload the app to Github as a new repository. Afterall, you could not have a Github Pages blog without a Github repo. If you have never uploaded any code to Github before, going through the <a href="https://docs.github.com/en/github/getting-started-with-github">Getting started</a> pages in official Github doc is a good idea.</p>
<p>After creating a corresponding repo (in my case <a href="https://github.com/svelteland/svelte-kit-blog-demo">svelteland/svelte-kit-blog-demo</a>), we could run the deploy command:</p>
<pre><code class="hljs language-bash">npm run deploy
</code></pre>
<p>The <code>gh-pages</code> library will post the files in <code>build</code> folder to a new remote branch -- <code>gh-pages</code>, where Github Pages will look for static contents to host. The root url of the hosted app is <code>xxx.github.io/yyy</code> if your app is <code>xxx/yyy</code>. In my case, the address is <code>svelteland.github.io/svelte-kit-blog-demo</code>.</p>
<p>Are we all set? Unfortunately, we are not... The hosted app does not work. All the CSS and JavaScripts are missing and  the routing is a mess. The reason for those is that the root for a Github Pages is, as we just mentioned, <code>xxx.github.io/yyy</code>, instead of <code>xxx.github.io</code>. Therefore we need to configure the relative directory, so that when looking for <code>a.css</code>, the app knows we actually need <code>xxx.github.io/yyy/a.css</code> but not <code>xxx.github.io/a.css</code>.</p>
<p>Apart from that, lots of CSS and js files are in <code>build/_app</code> folder. However, the folder starts with underscore are ignored by Github Pages because of Jekyll. We need to disable Jekyll by updating the 2 command below in <code>package.json</code>:</p>
<pre><code class="hljs language-json"><span class="hljs-string">"build"</span>: <span class="hljs-string">"rm -rf build &#x26;&#x26; svelte-kit build &#x26;&#x26; touch build/.nojekyll"</span>,
<span class="hljs-string">"deploy"</span>: <span class="hljs-string">"npm run build &#x26;&#x26; npx gh-pages -d build -t true"</span>
</code></pre>
<p>where the <code>-t true</code> flag in <code>deploy</code> is to make the <code>gh-pages</code> upload files starts with dot.</p>
<h2>Set relative path</h2>
<p>First we need to set the <code>paths.base</code> and <code>paths.assets</code> config in <code>svelte.config.cjs</code> to the relative path. In my case, it is:</p>
<pre><code class="hljs language-json"><span class="hljs-comment">// Comment the paths if wants to run in dev mode.</span>
paths: {
  base: '/svelte-kit-blog-demo',
  assets: '/svelte-kit-blog-demo'
},
</code></pre>
<p>Then, we should update the directory or href in our component or javascript files with <code>paths.base</code>. For example, in the <code>Nav</code> component, we need to update the <code>href</code> in <code>a</code>:</p>
<pre><code class="hljs language-html"><span class="hljs-comment">&#x3C;!-- lib/Nav.svelte --></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
  <span class="hljs-keyword">import</span> { base } <span class="hljs-keyword">from</span> <span class="hljs-string">'$app/paths'</span>;
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">nav</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{base}/"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home"</span>></span>HOME<span class="hljs-tag">&#x3C;/<span class="hljs-name">h3</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{base}/about"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"about"</span>></span>about<span class="hljs-tag">&#x3C;/<span class="hljs-name">h3</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">nav</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>
<p>Or in <code>index.svelte</code>, we need to update the json to load:</p>
<pre><code class="hljs language-js">  <span class="hljs-keyword">import</span> { base } <span class="hljs-keyword">from</span> <span class="hljs-string">'$app/paths'</span>;

  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span>(<span class="hljs-params">{ fetch }</span>) </span>{
    <span class="hljs-keyword">const</span> posts = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`<span class="hljs-subst">${base}</span>/index.json`</span>)
        .then(<span class="hljs-function">(<span class="hljs-params">r</span>) =></span> r.json());
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">props</span>: { posts }
    }
  }
</code></pre>
<p>After configuring these paths, rerun <code>npm run deploy</code>, you could see your app running correctly!</p>
<p>P.S. Don't forget to clean the browser cache after the new deploy.</p>
</div>



	<script type="svelte-data" url="/deply-to-github.json">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"{\"metadata\":{\"title\":\"Deploy the blog to Github Pages\",\"date\":\"Apr 4, 2021\",\"excerpt\":\"Fun fact: Github Pages is free!\"},\"content\":\"\u003Cp\u003EAfter the first post, we already have a blog that runs on the local machine. Now, let's deploy it to Github Pages!\u003C\u002Fp\u003E\\n\u003Ch2\u003EChange to static adapter\u003C\u002Fh2\u003E\\n\u003Cp\u003EAdapters in SvelteKit are small plugins for building apps on specific platform. The default adapter of a SvelteKit app is \u003Ccode\u003Eadapter-node\u003C\u002Fcode\u003E, which runs the app with a simple Node server. To host the app to Github Pages, we need to convert the app to static files with \u003Ccode\u003Eadapter-static\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-bash\\\"\u003Enpm i -D @sveltejs\u002Fadapter-static\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EAnd change the adapter part of \u003Ccode\u003Esvelte.config.cjs\u003C\u002Fcode\u003E to:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-js\\\"\u003E\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fadapter: node(),\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-attr\\\"\u003Eadapter\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-built_in\\\"\u003Erequire\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E'@sveltejs\u002Fadapter-static'\u003C\u002Fspan\u003E)(),\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EBy the time on this post, there is some error with the default installed \u003Ccode\u003E@sveltejs\u002Fadapter-static\u003C\u002Fcode\u003E, you may encounter error like:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-scala\\\"\u003Econfig.kit.adapter should be an \u003Cspan class=\\\"hljs-class\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eobject\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Ewith\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Ean\u003C\u002Fspan\u003E \\\"\u003Cspan class=\\\"hljs-title\\\"\u003Eadapt\u003C\u002Fspan\u003E\\\" \u003Cspan class=\\\"hljs-title\\\"\u003Emethod\u003C\u002Fspan\u003E.\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-type\\\"\u003ESee\u003C\u002Fspan\u003E https:\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fkit.svelte.dev\u002Fdocs#adapters\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-type\\\"\u003EError\u003C\u002Fspan\u003E: config.kit.adapter should be an \u003Cspan class=\\\"hljs-class\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eobject\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Ewith\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Ean\u003C\u002Fspan\u003E \\\"\u003Cspan class=\\\"hljs-title\\\"\u003Eadapt\u003C\u002Fspan\u003E\\\" \u003Cspan class=\\\"hljs-title\\\"\u003Emethod\u003C\u002Fspan\u003E.\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-type\\\"\u003ESee\u003C\u002Fspan\u003E https:\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fkit.svelte.dev\u002Fdocs#adapters\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EBefore the Svelte team update the package, we could manually overwrite the \u003Ccode\u003Eindex.js\u003C\u002Fcode\u003E file in \u003Ccode\u003Enode_modules\u002F@sveltejs\u002Fadapter-static\u003C\u002Fcode\u003E with \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fkit\u002Ftree\u002Fmaster\u002Fpackages\u002Fadapter-static\\\"\u003Ethe latest version in the repo\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003Ch2\u003EUse gh-pages to deploy\u003C\u002Fh2\u003E\\n\u003Cp\u003EAfter setting the static adapter, run:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-bash\\\"\u003Enpm run build\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Eto build the app. The building result is stored in \u003Ccode\u003Ebuild\u003C\u002Fcode\u003E folder. Then we could use the \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E library to deploy the app.\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-bash\\\"\u003Enpm i -D gh-pages\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EAnd add a \u003Ccode\u003Edeploy\u003C\u002Fcode\u003E command in \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E as\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-json\\\"\u003E\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"deploy\\\"\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-string\\\"\u003E\\\"npm run build &#x26;&#x26; npx gh-pages -d build\\\"\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EBefore running deploy, we need to upload the app to Github as a new repository. Afterall, you could not have a Github Pages blog without a Github repo. If you have never uploaded any code to Github before, going through the \u003Ca href=\\\"https:\u002F\u002Fdocs.github.com\u002Fen\u002Fgithub\u002Fgetting-started-with-github\\\"\u003EGetting started\u003C\u002Fa\u003E pages in official Github doc is a good idea.\u003C\u002Fp\u003E\\n\u003Cp\u003EAfter creating a corresponding repo (in my case \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fsvelteland\u002Fsvelte-kit-blog-demo\\\"\u003Esvelteland\u002Fsvelte-kit-blog-demo\u003C\u002Fa\u003E), we could run the deploy command:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-bash\\\"\u003Enpm run deploy\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EThe \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E library will post the files in \u003Ccode\u003Ebuild\u003C\u002Fcode\u003E folder to a new remote branch -- \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E, where Github Pages will look for static contents to host. The root url of the hosted app is \u003Ccode\u003Exxx.github.io\u002Fyyy\u003C\u002Fcode\u003E if your app is \u003Ccode\u003Exxx\u002Fyyy\u003C\u002Fcode\u003E. In my case, the address is \u003Ccode\u003Esvelteland.github.io\u002Fsvelte-kit-blog-demo\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003Cp\u003EAre we all set? Unfortunately, we are not... The hosted app does not work. All the CSS and JavaScripts are missing and  the routing is a mess. The reason for those is that the root for a Github Pages is, as we just mentioned, \u003Ccode\u003Exxx.github.io\u002Fyyy\u003C\u002Fcode\u003E, instead of \u003Ccode\u003Exxx.github.io\u003C\u002Fcode\u003E. Therefore we need to configure the relative directory, so that when looking for \u003Ccode\u003Ea.css\u003C\u002Fcode\u003E, the app knows we actually need \u003Ccode\u003Exxx.github.io\u002Fyyy\u002Fa.css\u003C\u002Fcode\u003E but not \u003Ccode\u003Exxx.github.io\u002Fa.css\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003Cp\u003EApart from that, lots of CSS and js files are in \u003Ccode\u003Ebuild\u002F_app\u003C\u002Fcode\u003E folder. However, the folder starts with underscore are ignored by Github Pages because of Jekyll. We need to disable Jekyll by updating the 2 command below in \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-json\\\"\u003E\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"build\\\"\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-string\\\"\u003E\\\"rm -rf build &#x26;&#x26; svelte-kit build &#x26;&#x26; touch build\u002F.nojekyll\\\"\u003C\u002Fspan\u003E,\\n\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"deploy\\\"\u003C\u002Fspan\u003E: \u003Cspan class=\\\"hljs-string\\\"\u003E\\\"npm run build &#x26;&#x26; npx gh-pages -d build -t true\\\"\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Ewhere the \u003Ccode\u003E-t true\u003C\u002Fcode\u003E flag in \u003Ccode\u003Edeploy\u003C\u002Fcode\u003E is to make the \u003Ccode\u003Egh-pages\u003C\u002Fcode\u003E upload files starts with dot.\u003C\u002Fp\u003E\\n\u003Ch2\u003ESet relative path\u003C\u002Fh2\u003E\\n\u003Cp\u003EFirst we need to set the \u003Ccode\u003Epaths.base\u003C\u002Fcode\u003E and \u003Ccode\u003Epaths.assets\u003C\u002Fcode\u003E config in \u003Ccode\u003Esvelte.config.cjs\u003C\u002Fcode\u003E to the relative path. In my case, it is:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-json\\\"\u003E\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F Comment the paths if wants to run in dev mode.\u003C\u002Fspan\u003E\\npaths: {\\n  base: '\u002Fsvelte-kit-blog-demo',\\n  assets: '\u002Fsvelte-kit-blog-demo'\\n},\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EThen, we should update the directory or href in our component or javascript files with \u003Ccode\u003Epaths.base\u003C\u002Fcode\u003E. For example, in the \u003Ccode\u003ENav\u003C\u002Fcode\u003E component, we need to update the \u003Ccode\u003Ehref\u003C\u002Fcode\u003E in \u003Ccode\u003Ea\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-html\\\"\u003E\u003Cspan class=\\\"hljs-comment\\\"\u003E&#x3C;!-- lib\u002FNav.svelte --\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"javascript\\\"\u003E\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eimport\u003C\u002Fspan\u003E { base } \u003Cspan class=\\\"hljs-keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E'$app\u002Fpaths'\u003C\u002Fspan\u003E;\\n\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Enav\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Ehref\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"{base}\u002F\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"home\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003EHOME\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Ehref\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"{base}\u002Fabout\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"about\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003Eabout\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Enav\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EOr in \u003Ccode\u003Eindex.svelte\u003C\u002Fcode\u003E, we need to update the json to load:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-js\\\"\u003E  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eimport\u003C\u002Fspan\u003E { base } \u003Cspan class=\\\"hljs-keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E'$app\u002Fpaths'\u003C\u002Fspan\u003E;\\n\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Eload\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-params\\\"\u003E{ fetch }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E posts = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E fetch(\u003Cspan class=\\\"hljs-string\\\"\u003E`\u003Cspan class=\\\"hljs-subst\\\"\u003E${base}\u003C\u002Fspan\u003E\u002Findex.json`\u003C\u002Fspan\u003E)\\n        .then(\u003Cspan class=\\\"hljs-function\\\"\u003E(\u003Cspan class=\\\"hljs-params\\\"\u003Er\u003C\u002Fspan\u003E) =\u003E\u003C\u002Fspan\u003E r.json());\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E {\\n      \u003Cspan class=\\\"hljs-attr\\\"\u003Eprops\u003C\u002Fspan\u003E: { posts }\\n    }\\n  }\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EAfter configuring these paths, rerun \u003Ccode\u003Enpm run deploy\u003C\u002Fcode\u003E, you could see your app running correctly!\u003C\u002Fp\u003E\\n\u003Cp\u003EP.S. Don't forget to clean the browser cache after the new deploy.\u003C\u002Fp\u003E\"}"}</script>
</div>
	</body>
</html>
